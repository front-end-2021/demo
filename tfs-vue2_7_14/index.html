<!DOCTYPE html>
<html>

<head>
    <title>Exercise TFS</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style/5.3.2_dist_css_bootstrap.min.css" />
    <link rel="stylesheet" href="style/bowtie.css" />
    <link rel="stylesheet" href="style/app_style.css" />

    <script src="script/3rd/boots/jquery-3.7.1.min.js"></script>
    <script src="script/3rd/boots/5.3.2_dist_js_bootstrap.bundle.min.js"></script>
    <script src="script/3rd/vuejs/dev_vue@2_7_14.js"></script>
    <script src="script/3rd/vuejs/vuex.global.js"></script>
    <script src="script/3rd/vuejs/vue-observe-visibility.min.js"></script>
    <script src="script/3rd/vuejs/dnd/1.8.4_Sortable.min.js"></script>
    <script src="script/3rd/vuejs/dnd/2.20.0_vuedraggable.umd.min.js"></script>
</head>

<body>
    <main id="tfs-app">
        <b-filter inline-template v-if="IsShowFilter">
            <section>
                <input type="text" :placeholder="PlaceholderKeyWord" v-model="Keyword" />
            </section>
        </b-filter>
        <section class="dnb-col-head d-flex">
            <span>Collapse all</span>
            <span>To Do</span>
            <span>New</span>
            <span>Appvored</span>
            <span>In Progess</span>
            <span>Commited</span>
            <span>Done</span>
        </section>
        <b-backlog inline-template 
            v-for="(backlog, b) in Backlogs" :item="backlog"
            :key="'logitem-' + b">
            <section class="d-flex">
                <b-item :item="item" :rwork="Time"></b-item>
                <b-state-todo :items="Todo"></b-state-todo>
                <b-state-new :items="New"></b-state-new>
                <b-state-approve :items="Approved"></b-state-approve>
                <b-state-inprogress :items="InProgess"></b-state-inprogress>
                <b-state-commit :items="Commited"></b-state-commit>
                <b-state-done :items="Done"></b-state-done>
            </section>
        </b-backlog>
    </main>
    <script type="text/x-template" id="b-task-done-temp">
        <div class="card m-1 dh-fitcontent" v-if="isShow || IsShow">
            <div class="card-body">
              <b class="card-title">{{item.Name}}</b>
              <small class="card-subtitle text-muted d-block">{{item.User}}</small>
              <small  class="card-text d-block">{{item.Description}}</small>
              <slot></slot>
              <a href="#" class="card-link"><small>Task link</small></a>
            </div>
        </div>
    </script>
    <script type="text/x-template" id="b-item-temp">
        <b-task-done :item="item" :is-show="IsShow" v-show="IsShow">
            <small class="card-text d-block">Remaining work: {{rwork}}</small>
        </b-task-done>
    </script>
    <script type="text/x-template" id="b-task-temp">
        <b-task-done :item="item" v-if="IsShow">
            <small class="card-text d-block">Remaining work: 
                <input type="text" class="form-control w-25 d-inline-block" 
                    v-model="RemainingWork"/>
            </small>
        </b-task-done>
    </script>
    <script type="text/x-template" id="b-state-temp">
        <div class="dcol-state" v-bind:class=[ClassWrap]>
            <draggable v-if="State == 6" 
                :list="Items" :group="'task-in-item'" 
                v-bind="DnDOptions"
                class="w-100 h-100">
                <b-task-done
                    v-for="task in Items" 
                    :key="'task_' + task.Id"
                    :item="task"></b-task-done>
            </draggable>
            <draggable v-else :list="Items" :group="'task-in-item'" 
                v-bind="DnDOptions"
                class="w-100 h-100">
                <b-task 
                    v-for="task in Items" 
                    :key="'task_' + task.Id"
                    :item="task"></b-task>
            </draggable>
        </div>
    </script>
    <script>
        HTMLElement.prototype.offset = function () {
            const el = this
            const rect = el.getBoundingClientRect(),
                scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,
                scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            return { top: rect.top + scrollTop, left: rect.left + scrollLeft }
        }
    </script>
    <script src="script/repository/common.js"></script>
    <script src="script/repository/mock-data.js"></script>
    <script src="script/data-store.js"></script>
    <script src="script/component-temp.js"></script>
    <script src="script/components.js"></script>
    <script src="script/cv-app.js"></script>
</body>

</html>