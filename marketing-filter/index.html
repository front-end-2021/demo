<head>
    <link rel="stylesheet" href="3rd/bootstrap5/bootstrap.min.css" />
    <link rel="stylesheet" href="3rd/bootstrap5/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="3rd/kendo/default-ocean-blue.css" />
    <link rel="stylesheet" href="style.css" />
    <script src="3rd/jquery-3.4.1.min.js"></script>
    <script src="3rd/kendo/kendo.all.min.js"></script>
    <script src="3rd/dev_vue@2_7_14.js"></script>
    <script src="common.js"></script>
    <script src="mock-data.js"></script>
    <script src="modal.js"></script>
</head>

<body>
    <main class="dnb-view-100h">
        <section id="mFilter">
            <div class="list-criterial"></div>
            <div class="list-button">
                <button type="button" class="btn btn-primary btn-sm btnSetFilter">
                    <i class="bi bi-search"></i> Filter</button>
                <button type="button" class="btn btn-secondary btn-sm">
                    <i class="bi bi-arrow-repeat"></i> Reset</button>
                <button type="button" class="btn btn-primary btn-sm btnAddFilter">
                    <i class="bi bi-plus-circle"></i> Add</button>
                <button type="button" class="btn btn-primary btn-sm">
                    <i class="bi bi-download"></i> Save filter</button>
            </div>
        </section>
        <section style="padding: 6px;">
            <h6>View Data: </h6>
            <div id="dnb-app-vue">
                <ul class="list-group list-group-flush">
                    <li v-for="wItem in ListDataUI" 
                        class="list-group-item"
                        v-bind:id-land="'dnb-land_' + wItem.IdLand"
                        v-bind:id-region="'dnb-land_' + wItem.IdRegion">
                        <i>{{wItem.Land.Name}} > {{wItem.Region.Name}}</i>
                        <div>
                            <h5>{{wItem.PGroup.Name}}</h5>
                            <ul class="dnb-products">
                                <li v-for="prduct in wItem.Products" v-bind:id-product="'dnb-product_' + prduct.Id">
                                    <b class="mb-0">{{prduct.Name}}</b>
                                    <ul class="dnb-goals">
                                        <li v-for="goal in prduct.ListGoal" v-bind:id-goal="'dnb-goal_' + goal.Id">
                                            <p class="mb-0">
                                                <input v-model="goal.Finish" type="checkbox" class="form-check-input dnb-r14px"/> {{goal.Name}}
                                            </p>
                                            
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
            </article>
    </main>
    <section id="dashboard" class="dnb-view-100h p-1">
        <div class="list-land">
            <h6 @click.stop="e => toggleCollapse(1)">List Land: <b v-if="!showExpand(1)">&#10010;</b></h6>
            <div v-if="showExpand(1)" class="lst-entry" v-for="item in Lands">
                <span>Id: {{item.Id}}</span>
                <input type="text" class="form-control form-control-sm" v-model="item.Name" />
            </div>
        </div>
        <div class="list-region">
            <h6 @click.stop="e => toggleCollapse(2)">List Region: <b v-if="!showExpand(2)">&#10010;</b></h6>
            <div v-if="showExpand(2)" class="lst-entry" v-for="item in Regions">
                <span>Id: {{item.Id}}</span>
                <input type="text" class="form-control form-control-sm" v-model="item.Name" />
            </div>
        </div>
        <div class="list-productgroup">
            <h6 @click.stop="e => toggleCollapse(3)">List Product group: <b v-if="!showExpand(3)">&#10010;</b></h6>
            <div v-if="showExpand(3)" class="lst-entry" v-for="item in ProductGroups">
                <span>Id: {{item.Id}}</span>
                <input type="text" class="form-control form-control-sm" v-model="item.Name" />
            </div>
        </div>
        <div class="list-product">
            <h6 @click.stop="e => toggleCollapse(4)">List Product: <b v-if="!showExpand(4)">&#10010;</b></h6>
            <div v-if="showExpand(4)" class="lst-entry" v-for="item in Products">
                <span>Id: {{item.Id}}</span>
                <input type="text" class="form-control form-control-sm" v-model="item.Name" />
            </div>
        </div>
        <div class="list-subproduct">
            <h6 @click.stop="e => toggleCollapse(5)">List Sub product: <b v-if="!showExpand(5)">&#10010;</b></h6>
            <div v-if="showExpand(5)" class="lst-entry" v-for="item in SubProducts">
                <span>Id: {{item.Id}}</span>
                <input type="text" class="form-control form-control-sm" v-model="item.Name" />
            </div>
        </div>
        <div class="list-market">
            <h6 @click.stop="e => toggleCollapse(6)">List Market: <b v-if="!showExpand(6)">&#10010;</b></h6>
            <div v-if="showExpand(6)" class="lst-entry" v-for="item in MarketSegments">
                <span>Id: {{item.Id}}</span>
                <input type="text" class="form-control form-control-sm" v-model="item.Name" />
            </div>
        </div>
        <div class="list-submarket">
            <h6 @click.stop="e => toggleCollapse(7)">List sub market: <b v-if="!showExpand(7)">&#10010;</b></h6>
            <div v-if="showExpand(7)" class="lst-entry" v-for="item in StakeholderGroups">
                <span>Id: {{item.Id}}</span>
                <input type="text" class="form-control form-control-sm" v-model="item.Name" />
            </div>
        </div>
    </section>

    <script>
        let mktFilter;
        $(document).ready(function () {
            mktFilter = new mkFilter('#mFilter', [new Criterial(0, 1, [0, 0])])

            const btnAddFilter = document.querySelector('#mFilter .btnAddFilter')
            btnAddFilter.addEventListener('click', (e) => mktFilter.addFilter())

            newAppVue(mktFilter)
            newAppVueDasboard()
        })
    </script>
    <script src="app_vue.js"></script>
</body>