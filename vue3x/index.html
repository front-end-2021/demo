<!DOCTYPE html>
<html>

<head>
  <title>Exercise Vue3</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.5.0/dist/semantic.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./main-style.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://unpkg.com/vuex@4.1.0/dist/vuex.global.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.5.0/dist/semantic.min.js"></script>
</head>

<body>
  <main id="app" v-cloak>
    <header class="p-3 bg-primary">
      <section class="container-fluid d-inline-flex justify-content-start align-items-center">
        <div class="d-inline-flex justify-content-start align-items-center grp-logo">
          <i class="bi bi-bootstrap-fill me-2 font24 cpointer text-white"></i>
          <h2 class="me-3 my-0 text-white">Marketing</h2>
        </div>
        <div class="d-inline-flex justify-content-start align-items-center me-3 grp-prj">
          <drop-select :index="IndexProject" 
            :items="$store.state.Projects" 
            :class="['grp-dropdown-min dnbdropdown-primary']"
            @set:index="$event => setIndexProject($event)">
            <template #default>
              <div class="text">{{$store.state.Projects[this.IndexProject].Name}}</div>
            </template>
          </drop-select>
        </div>
        <div class="d-inline-flex justify-content-start align-items-center me-3 grp-lang">
          <h4 class="text-white mb-0 me-1">Language: </h4>
          <drop-select :index="$store.state.IndexLang" 
            :items="$store.state.Languages" 
            :class="['grp-dropdown-min dnbdropdown-primary']" style="min-width: 120px;"
            @set:index="$event => setIndexLang($event)">
            <template #default>
              <div class="text">{{$store.getters.activeLang.Name}}</div>
            </template>
          </drop-select>
        </div>
        <div class="d-inline-flex justify-content-start align-items-center grp-options">
          <i class="bi bi-folder-fill me-3 font24 cpointer text-white"></i>
          <i class="bi bi-question-square-fill font24 cpointer text-white"></i>
          <i class="bi bi-gear-fill font24 mx-3 cpointer text-white"></i>
          <i class="bi bi-person-circle font24 cpointer text-white"
            @click.stop="e => openForm(1)"></i>
        </div>
      </section>
    </header>
    <nav class="dnb-nav d-flex align-items-center p-2 text-white">
      <h4 v-for="(page, ipg) in $store.state.Pages"
        class="my-0 mx-3 cpointer"
        :class="[ ipg === IndexPage ? 'working' : '']"
        @click.stop="e => selectPage(ipg)">{{page}}</h4>
    </nav>

    <section style="margin-bottom: 9px;">{{$store.getters.message}}</section>
    <comp-nav></comp-nav>
    <drop-select :name="UserAssign" :items="Users" 
      @set:index="$event => setUserAssign($event)">
      <template #default>
        <div class="default text">Assign</div>
      </template>
    </drop-select>

    
    <component :is="CompPage"></component>

  </main>


  <template id="tmp-comp-nav">
    <button @click="upCount">Clicked {{ count }} {{1 == count ? 'time' : 'times'}}.</button>
    <button @click="resetCount" style="margin-left:9px;">Reset Count</button>
    
  </template>

  <span class="dnbimporthtml" dnbpath="./components/dFilter.html"></span>
  <span class="dnbimporthtml" dnbpath="./components/semantics.html"></span>
  <span class="dnbimporthtml" dnbpath="./pages/MarketSegmentStrategy.html"></span>
  <span class="dnbimporthtml" dnbpath="./forms/AppWindow.html"></template>

  <script type="module" src="main-app.js"></script>
</body>

</html>